<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
  layout:decorator="layout">
  <head>
    <title th:inline="text">[[#{form.title}]]</title>
    <link rel="stylesheet" th:href="@{/common/css/form.css}"/>
  </head>
  <body>
    <div class="container">
        <div class="page-header" layout:fragment="header">
            <h1 th:text="#{form.title}">form.title</h1>
        </div>
        <div layout:fragment="content">
            <form method="POST" class="form-horizontal"
                  action="confirm.html" th:action="@{/form}">
              <div class="form-group required"
                   th:class="${#strings.isEmpty(nameError)} ? 'form-group required' : 'form-group required has-error'">
                  <label for="inputName" class="control-label col-sm-4 col-md-3" >
                     <span class="glyphicon glyphicon-exclamation-sign"></span>
                     <span class="glyphicon glyphicon-ok"></span>
                     <span th:text="#{CustomerBean.name}">CustomerBean.name</span>
                  </label>
                  <div class="col-sm-4 col-md-3">
                      <input type="text" class="form-control " 
                             id="inputName" name="customerBean.name"
                             th:placeholder="#{CustomerBean.name}"
                             th:value="${formBean.customerBean.name}" />
                      <span class="help-block help-block-danger"
                          th:unless="${#strings.isEmpty(nameError)}"
                          th:text="${nameError}">nameError</span>
                  </div>
              </div>
              <div class="form-group"
                   th:class="${#strings.isEmpty(kanaError)} ? 'form-group' : 'form-group has-error'">
                  <label for="inputKana" class="control-label col-sm-4 col-md-3" 
                         th:text="#{CustomerBean.kana}">CustomerBean.kana</label>
                  <div class="col-sm-4 col-md-3">
                      <input type="text" class="form-control col-sm-6" 
                             id="inputKana" name="customerBean.kana"
                             th:placeholder="#{CustomerBean.kana}"
                             th:value="${formBean.customerBean.kana}" />
                      <span class="help-block help-block-danger"
                          th:unless="${#strings.isEmpty(kanaError)}"
                          th:text="${kanaError}">kanaError</span>
                  </div>
              </div>
              <div class="form-group"
                   th:class="${#strings.isEmpty(employmentError)} ? 'form-group' : 'form-group has-error'">
                  <label for="inputEmployment" class="control-label col-sm-4 col-md-3" 
                         th:text="#{CustomerBean.employment}">CustomerBean.employment</label>
                  <div class="col-sm-4 col-md-3">
                      <input type="text" class="form-control" 
                             id="inputEmployment" name="customerBean.employment"
                             th:placeholder="#{CustomerBean.employment}"
                             th:value="${formBean.customerBean.employment}" />
                      <span class="help-block help-block-danger"
                          th:unless="${#strings.isEmpty(employmentError)}"
                          th:text="${employmentError}">employmentError</span>
                  </div>
                  <div class="col-sm-4 col-md-3">
                      <p class="help-block" th:text="#{form.ifNeedEmployment}">
                          form.ifNeedEmployment
                      </p>
                  </div>
              </div>
              <div class="form-group"
                   th:class="${#strings.isEmpty(departmentError)} ? 'form-group' : 'form-group has-error'">
                  <label for="inputDepartment" class="control-label col-sm-4 col-md-3" 
                         th:text="#{CustomerBean.department}">CustomerBean.department</label>
                  <div class="col-sm-4 col-md-3">
                      <input type="text" class="form-control" 
                             id="inputDepartment" name="customerBean.department"
                             th:placeholder="#{CustomerBean.department}"
                             th:value="${formBean.customerBean.department}" />
                      <span class="help-block help-block-danger"
                          th:unless="${#strings.isEmpty(departmentError)}"
                          th:text="${departmentError}">departmentError</span>
                  </div>
              </div>
              
              <div id="contact-by" class="form-group">
                <label class="control-label col-sm-4 col-md-3" for="radioContactByEmail"
                       th:text="#{CustomerBean.contactBy}">CustomerBean.contactBy</label>
                <div class="col-sm-8">
                    <label class="radio-inline">
                        <input type="radio" 
                               id="radioContactByEmail" name="customerBean.contactBy" 
                               value="0" th:checked="${formBean.customerBean.contactBy == 0 }" />
                        <span th:text="#{CustomerBean.contactBy.email}">CustomerBean.contactBy.email</span> 
                    </label>
                    <label class="radio-inline">
                        <input type="radio" 
                               id="radioContactByTel" name="customerBean.contactBy" 
                               value="1" th:checked="${formBean.customerBean.contactBy == 1 }" /> 
                        <span th:text="#{CustomerBean.contactBy.tel}">CustomerBean.contactBy.tel</span> 
                    </label>
                </div>
              </div>
              
              <div id="contact-by-email">
              <div class="form-group required"
                   th:class="${#strings.isEmpty(emailError)} ? 'form-group required' : 'form-group required has-error'">
                  <label for="inputEmail" class="control-label col-sm-4 col-md-3" >
                    <span class="glyphicon glyphicon-exclamation-sign"></span>
                    <span class="glyphicon glyphicon-ok"></span>
                    <span th:text="#{CustomerBean.email}">CustomerBean.email</span>
                  </label>
                  <div class="col-sm-6">
                      <input type="email" class="form-control" 
                             id="inputEmail" name="customerBean.email"
                             th:placeholder="#{CustomerBean.email}"
                             th:value="${formBean.customerBean.email}" />
                      <span class="help-block help-block-danger"
                          th:unless="${#strings.isEmpty(emailError)}"
                          th:text="${emailError}">emailError</span>
                  </div>
                </div>
              <div class="form-group required"
                   th:class="${#strings.isEmpty(email2Error)} ? 'form-group required' : 'form-group required has-error'">
                  <label for="inputEmail2" class="control-label col-sm-4 col-md-3" >
                    <span class="glyphicon glyphicon-exclamation-sign"></span>
                    <span class="glyphicon glyphicon-ok"></span>
                    <span th:text="#{CustomerBean.email2}">CustomerBean.email2</span>
                  </label>
                  <div class="col-sm-6">
                      <input type="email" class="form-control" 
                             id="inputEmail2" name="customerBean.email2"
                             th:placeholder="#{CustomerBean.email2}"
                             th:value="${formBean.customerBean.email2}" />
                      <span class="help-block help-block-danger"
                          th:unless="${#strings.isEmpty(email2Error)}"
                          th:text="${email2Error}">email2Error</span>
                  </div>
                </div>
              </div>
              
              <div id="contact-by-tel">
                <div class="form-group required"
                   th:class="${#strings.isEmpty(telError)} ? 'form-group required' : 'form-group required has-error'">
                  <label for="inputTel" class="control-label col-sm-4 col-md-3">
                    <span class="glyphicon glyphicon-exclamation-sign"></span>
                    <span class="glyphicon glyphicon-ok"></span>
                    <span th:text="#{CustomerBean.tel}">CustomerBean.tel</span>
                  </label>
                  <div class="col-sm-6">
                      <input type="tel" class="form-control" 
                             id="inputTel" name="customerBean.tel"
                             th:placeholder="#{CustomerBean.tel}"
                             th:value="${formBean.customerBean.tel}" />
                      <span class="help-block help-block-danger"
                          th:unless="${#strings.isEmpty(telError)}"
                          th:text="${telError}">telError</span>
                  </div>
                </div>
              </div>
              
              <div class="form-group required"
                   th:class="${#strings.isEmpty(makerError)} ? 'form-group required' : 'form-group required has-error'">
                <label for="inputTel" class="control-label col-sm-4 col-md-3">
                    <span class="glyphicon glyphicon-exclamation-sign"></span>
                    <span class="glyphicon glyphicon-ok"></span>
                    <span th:text="#{FormBean.maker}">FormBean.maker</span>
                       </label>
                <div class="col-sm-4 col-md-3">
                    <input type="text" class="form-control" 
                           id="inputMaker" name="maker"
                           th:placeholder="#{FormBean.maker}"
                           th:value="${formBean.maker}" />
                    <span class="help-block help-block-danger"
                        th:unless="${#strings.isEmpty(makerError)}"
                        th:text="${makerError}">makerError</span>
                </div>
              </div>
              <div class="form-group"
                   th:class="${#strings.isEmpty(modelError)} ? 'form-group' : 'form-group has-error'">
                <label for="inputTel" class="control-label col-sm-4 col-md-3" 
                       th:text="#{FormBean.model}">FormBean.model</label>
                <div class="col-sm-4 col-md-3">
                    <input type="text" class="form-control" 
                           id="inputModel" name="model"
                           th:placeholder="#{FormBean.model}"
                           th:value="${formBean.model}" />
                    <span class="help-block help-block-danger"
                        th:unless="${#strings.isEmpty(modelError)}"
                        th:text="${modelError}">modelError</span>
                </div>
              </div>
              
              <div class="form-group required"
                   th:class="${#strings.isEmpty(contentError)} ? 'form-group required' : 'form-group required has-error'">
                <label for="inputContent" class="control-label col-sm-4 col-md-3">
                    <span class="glyphicon glyphicon-exclamation-sign"></span>
                    <span class="glyphicon glyphicon-ok"></span>
                    <span th:text="#{FormBean.content}">FormBean.content</span>
                </label>
                <div class="col-sm-6">
                    <textarea class="form-control" rows="10"
                              id="inputContent" name="content"
                              th:placeholder="#{FormBean.content}" 
                              th:text="${formBean.content}" ></textarea>
                    <span class="help-block help-block-danger"
                        th:unless="${#strings.isEmpty(contentError)}"
                        th:text="${contentError}">contentError</span>
                </div>
              </div>

              <div class="form-group">
                  <div class="col-sm-6 col-sm-offset-4 col-md-offset-3">
                      <button type="submit" class="btn btn-primary btn-large">
                        <span th:text="#{button.next}">button.next</span>&nbsp;
                        <span class="glyphicon glyphicon-chevron-right"></span>
                      </button>
                  </div>
              </div>
            </form>
        </div>
    </div>
<th:block layout:fragment="scripts">
<script th:src="@{/common/js/form-required.js}"></script>
<script>
    $(function(){
        $('#contact-by').on('change', 'input[type="radio"]',function() {
            if($('#radioContactByEmail:checked').length > 0) {
                $('#contact-by-email').fadeIn();
                $('#contact-by-tel').hide();
            }
            if($('#radioContactByTel:checked').length > 0) {
                $('#contact-by-email').hide();
                $('#contact-by-tel').fadeIn();
            }
        });
        $('#radioContactByEmail').trigger('change');
    });
</script>
</th:block>
  </body>
</html>